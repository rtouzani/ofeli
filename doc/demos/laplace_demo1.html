<!DOCTYPE HTML>
<html>
  <script src="http://www.w3schools.com/lib/w3data.js"></script>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="ofeli package" />
    <meta name="keywords" content="Modelling, numerical simulation, scientific computing, ofeli" />
    <title>ofeli library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <link rel="icon" type="image/png" sizes="10x10" href="../im/r.jpg" />

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-59742926-2', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="../im/ofeli.png">
    <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700" rel="stylesheet">

    <link rel="stylesheet" href="../doxygen.css">
    <link rel="stylesheet" href="../css/animate.css">
    <link rel="stylesheet" href="../css/icomoon.css">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/flexslider.css">
    <link rel="stylesheet" href="../fonts/flaticon/font/flaticon.css">
    <link rel="stylesheet" href="../css/owl.carousel.min.css">
    <link rel="stylesheet" href="../css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../css/ofeli-style.css">
    <link rel="stylesheet" href="../css/doc.css">

<!--    Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
      <script src="js/respond.min.js"></script>
      <![endif]-->
  </head>

  <body>
    <div id="ofeli-page">
      <div class="container-wrap">
        <aside id="ofeli-aside" role="complementary" class="border js-fullheight">
          <div class="text-center">
            <a href="../index.html">
              <div class="logo-ofeli-img" style="background-image: url(../im/ofeli.png); background-size: 110%;"></div>
            </a>
            <span class="position"><b>Mathematical Modelling<br> and Numerical Simulation</b></span>
          </div>
          <div>
            <ul>
                <li class="active"><a href="../index.html">OFELI Documentation</a></li>
                <li class="active"><a href="../html/classes.html">Classes in OFELI</a></li>
                <li class="active"><a href="../fformats.html">File Formats</span></a></li>
                <li class="active"><a href="../extlib.html">External Libraries</span></a></li>
                <li class="active"><a href="../citing.html">Citing OFELI</span></a></li>
                <li class="active"><a href="../download.html">Download and Installation</a></li>
                <li class="active"><a href="../presentations.html">Presentations</a></li>
                <li class="active"><a href="../copyright.html">License</a></li>
                <li class="active"><a href="mailto:rachid.touzani@uca.fr">Contact</a></li>
            </ul>
        </div>

        <a href="rita.html"><center><img src="../im/rita.png" width="90"></center></a>

<!--      Search Google -->
          <center>
            <form method=GET action="http://www.google.com/search">
              <table bgcolor="#FFFFFF">
                <tr>
                  <td><a href=" http://www.google.com/">
                    <img src="http://www.google.com/logos/Logo_40wht.gif" border="0" alt="Google" align="absmiddle"></a> 
                    <input TYPE=TEXT name=q size=31 maxlength=255 value="">
                    <input type=hidden name=hl value="en">
                    <input type=submit name=btnG value="Search">
                  </td>
                </tr>
              </table>
            </form>
          </center>
 <!--     Search Google -->
 
          <div class="ofeli-footer">
            <p><small>&copy; Copyright <script>document.write(new Date().getFullYear());</script> All rights reserved</small>
            </p>
          </div>
        </aside>
        <div id="ofeli-main">
          <section class="ofeli-start" data-section="home">
            <div class="ofeli-narrow-content">
              <div class="row">
                <div class="col-md-12">
                  <div class="row row-bottom-padded-sm animate-box" data-animate-effect="fadeInLeft">
                    <div class="col-md-12">
                      <div class="start-desc">
                        <h1 class="first-ofeli-heading"></h1>
                        <div id="cc">
                           &nbsp;
                           <p><table border="2" cellpadding="2" cellspacing="0" >
                           <tr>
                           <td align="center" width="35"><a href="transport.html"><img src="../im/backward.gif" border="0"></a></td>
                           <td align="center" width="35"><a href="../demos.html"><img src="../im/top.gif" border="0"></a></td>
                           <td align="center" width="35"><a href="laplace_demo2.html"><img src="../im/forward.gif" border="0"></a></td>
                           </tr>
                           </table><br>
                           <font color="#203F5B" size="4" face="verdana,Helvetica">
                           <p><b>Demo: The 2-D Laplace equation: P<sub>1</sub> Finite Element</b></font></p>
                           <p>
                           <SPAN class=TEXT>We present in this demo a more consistent use of the library. We aim at solving the basic
                           Laplace equation (more precisely the Poisson problem) in 2-D using P<sub>1</sub> finite elements.
                           </SPAN>
                           
                           <ul type="square">
                              <li><SPAN class=TEXT>As usual we start by including tha main <span class=logo>OFELI</span> head file.
                              Next, since we aim at using the one of classes for the Laplace equation, we have to include the file
                              <span class=TT>Laplace.h</span>.</span><br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>   #include "OFELI.h"
   #include "Laplace.h"
   using namespace OFELI;
                           
   int main(int argc, char *argv[])
   {</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>The program has an argument the name of the the project file. If the
                              argument is available, we instantiate the class <span class=TT>IPF</span> which manages
                              project files.</span><br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      if (argc &lt; 2) {
         cout &lt;&lt; "\nUsage: " &lt;&lt; argv[0] &lt;&lt; " &lt;project_file&gt;\n";
         return 0;
      }
      IPF data("laplace_demo1 - 1.0",argv[1]);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>As in every demo program we make use of exception handling to obtain clear error messages.
                           Next we assign to the <span class=logo>OFELI</span> global variable <span class=TT>Verbosity</span>
                           the value obtained from the project file.
                           </span><br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      Verbosity = data.getVerbose();
                           </font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>The first essential task in the program consists in constructing the mesh using the mesh file.</span></br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      Mesh ms(data.getMeshFile());</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>We have now to set some data for the equation. Namely, the Dirichlet boundary condition and the source
                           term. They will be stored in dedicated files. To initialize them we make use of the class 
                           <span class=TT><a href="../html/classOFELI_1_1Prescription.html">Prescription</a></span> that helps prescribing
                           various data. This class reads these data from a <I>Prescription file</I>, which can be the project file itself.
                           The Dirichlet boundary conditions and the source are retrieved by member function <span class=TT>get</TT>.
                           </span></br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      Vect&lt;double&gt; bc(ms), bf(ms);
      Prescription p(ms,data.getPrescriptionFile());
      p.get(BOUNDARY_CONDITION,bc);
      p.get(SOURCE,bf);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>We declare a vector that will contain the solution once the problem solved. Then we declare 
                           an instance of class <span class=TT><a href="../html/classOFELI_1_1Laplace2DT3.html">Laplace2DT3</a></span>
                           that handles the numerical solution of the Laplace equation in 2-D using P<sub>1</sub> finite elements
                           (3-Node triangles). We note that the constructor used the Mesh instance and the solution vector that will contain later the
                           solution.</span></br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      Vect<double> u(ms);
      Laplace2DT3 eq(ms,u);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>Now we can transmit to the equation class various prescribed data using membre function <span class=TT>setInput</span>:</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      eq.setInput(BOUNDARY_CONDITION,bc);
      eq.setInput(SOURCE,bf);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>Once all data are transmitted, we can <I>run</I> (solve) the equation. The vector <span class=TT>u</span> contains
                           now the solution and can be solved in a file. For this end, we choose here the 
                           <span class=TT><a href="http://gmsh.info">Gmsh</a></span> <span class=TT>.pos</span> file.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      eq.run();
      saveField(u,"u.pos",GMSH);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>To check the accuracy of the numerical solution, we have constructed an analytical solution of the equation.
                           This one is also defined via the <span class=TT><a href="../html/classOFELI_1_1Prescription.html">Prescription</a></span> class
                           and given as an algebraic expression in the project file. We can then compute the error norm as indicated in the source and
                           terminate the program.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      Vect&lt;double&gt; sol(ms);
      p.get(SOLUTION,sol);
      cout &lt;&lt; "L2-Error: " &lt;&lt; (u-sol).Norm(WNORM2) &lt;&lt; endl;
      return 0;
   }</font></pre>
                           </td></tr></table></p>
                           </ul>                 
                           &nbsp;
                           <p><table align="center" border="2" cellpadding="2" cellspacing="0" >
                           <tr>
                           <td align="center" width="35"><a href="transport.html"><img src="../im/backward.gif" border="0"></a></td>
                           <td align="center" width="35"><a href="../demos.html"><img src="../im/top.gif" border="0"></a></td>
                           <td align="center" width="35"><a href="laplace_demo2.html"><img src="../im/forward.gif" border="0"></a></td>
                           </tr>
                           </table>
                        </div>
                     </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.flexslider-min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.countTo.js"></script>
    <script src="js/ofeli-main.js"></script>

  </body>
</html>
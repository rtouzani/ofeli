<!DOCTYPE HTML>
<html>
  <script src="http://www.w3schools.com/lib/w3data.js"></script>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="ofeli package" />
    <meta name="keywords" content="Modelling, numerical simulation, scientific computing, ofeli" />
    <title>ofeli library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <link rel="icon" type="image/png" sizes="10x10" href="../im/r.jpg" />

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-59742926-2', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="../im/ofeli.png">
    <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700" rel="stylesheet">

    <link rel="stylesheet" href="../css/doxygen.css">
    <link rel="stylesheet" href="../css/animate.css">
    <link rel="stylesheet" href="../css/icomoon.css">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../fonts/flaticon/font/flaticon.css">
    <link rel="stylesheet" href="../css/owl.carousel.min.css">
    <link rel="stylesheet" href="../css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../css/ofeli.css">
    <link rel="stylesheet" href="../css/doc.css">

<!--    Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
      <script src="js/respond.min.js"></script>
      <![endif]-->
  </head>

  <body>
    <div id="ofeli-page">
      <div class="container-wrap">
        <aside id="ofeli-aside" role="complementary" class="border js-fullheight">
          <div class="text-center">
            <a href="../index.html">
              <div class="logo-ofeli-img" style="background-image: url(../im/ofeli.png); background-size: 110%;"></div>
            </a>
            <span class="position"><b>Mathematical Modelling<br> and Numerical Simulation</b></span>
          </div>
          <div>
            <ul>
                <li class="active"><a href="../index.html">OFELI Documentation</a></li>
                <li class="active"><a href="../html/classes.html">Classes in OFELI</a></li>
                <li class="active"><a href="../fformats.html">File Formats</span></a></li>
                <li class="active"><a href="../extlib.html">External Libraries</span></a></li>
                <li class="active"><a href="../citing.html">Citing OFELI</span></a></li>
                <li class="active"><a href="../download.html">Download and Installation</a></li>
                <li class="active"><a href="../news.html">News</span></a></li>
                <li class="active"><a href="../presentations.html">Presentations</a></li>
                <li class="active"><a href="../copyright.html">License</a></li>
                <li class="active"><a href="mailto:rachid.touzani@uca.fr">Contact</a></li>
            </ul>
          </div>

          <a href="rita.html"><center><img src="../im/rita.png" width="90"></center></a>

          <div class="ofeli-footer">
            <p><small>&copy; Copyright <script>document.write(new Date().getFullYear());</script> All rights reserved</small>
            </p>
          </div>
        </aside>

        <div id="ofeli-main">
          <section class="ofeli-start" data-section="home">
            <div class="ofeli-narrow-content">
              <div class="row">
                <div class="col-md-12">
                  <div class="row row-bottom-padded-sm animate-box" data-animate-effect="fadeInLeft">
                    <div class="col-md-12">
                      <div class="start-desc">
                        <h1 class="first-ofeli-heading"></h1>
                        <div id="cc">
                           &nbsp;
                           <p><table border="2" cellpadding="2" cellspacing="0" >
                           <tr>
                           <td align="center" width="35"><a href="../demos.html"><img src="../im/top.gif" border="0"></a></td>
                           <td align="center" width="35"><a href="heat.html"><img src="../im/forward.gif" border="0"></a></td>
                           </tr>
                           </table><br>
                          <font color="#203F5B" size="4" face="verdana,Helvetica">
                          <p><b>Demo: A 1-D elliptic problem</b></font></p>
                          <p>
                           <SPAN class=TEXT>This very simple code illustrates the numerical solution of a 1-D elliptic problem
                              using P<sub>1</sub> finite element method using the library <span class=LOGO>OFELI</span>.
                           </SPAN>
                           
                           <ul type="square">
                              <li><SPAN class=TEXT>All C++ programs using the library <span class=LOGO>OFELI</span> must include
                                  the header file <span class=TT>OFELI.h</span> that itself includes all kernel class definitions.</span><br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>#include "OFELI.h" </font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>The <span class=logo>OFELI</span> library is embedded in  namespace called
                           <span class=TT>OFELI</span>.</span><br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>using namespace OFELI;</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>Our program has arguments that will described later.</span><br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>int main(int argc, char *argv[])
{</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT><span class=TT>L</span> is the length
                           of the interval in which the problem is defined. Here we have fixed their respective values
                           at <span class=TT>0</span> and <span class=TT>1</span>.
                           <span class=TT>N</span> is the number of finite elements. Its default value is <span class=TT>10</span></span></br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>   const double L = 1;
   int N = 10;</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>The <span class="logo">OFELI</span> function <span class=TT>banner</span>
                           outputs the official banner of the library.</span></br>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>   banner();</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT><span class=TT>N</span> is the program argument (if this one is present)</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>   if (argc > 1)
      N = atoi(argv[1]);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>We now declare an instance of class <span class=var><a href="../html/classOFELI_1_1Mesh.html">Mesh</a></span>
                           with the appropriate constructor. Note this is not necessary in our example, but we use it here to present some
                           associated functionalities like the assignment of vector components using algebraic expressions.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>   Mesh ms(L,N);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=text>We denote by <span class=TT>NbN</span> the number of unknowns, the solution
                           being prescribed at <span class=TT>x=0</span> and then we print out the mesh.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>   int NbN = N+1;</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>In our demo programs, we have made use of <span class="logo">OFELI</span> exception handling.
                           This is presented here for this first demo code. For this, the remaining of this program is contained in 
                              <span class=VAR>try</span> block.
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                              <pre><font color="blue" size=2>   try {</font></pre>
                           </td></tr></table></p>
                           
                           <li><SPAN class=TEXT>We declare an instance of class <span class=var><a href="../html/classOFELI_1_1TrMatrix.html">TrMatrix&lt;double&gt;</a></span>
                           for the tridiagonal matrix, with size <span class=TT>NbN</span> and an instance of class
                           <span class=TT><a href="../html/classOFELI_1_1Vect.html">Vect&lt;double&gt;</a></span>
                           for the right-hand side and the solution. Note that the vector
                           constructor uses here the mesh instance. This simplifies the use of
                           algebraic expressions for vector assignments.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      TrMatrix&lt;double&gt; A(NbN);
      Vect&lt;double&gt; b(ms);
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>In order to test the code, we choose an exact
                           solution: We set for right-hand side the function <span
                           class=TT>f(x) = 16&pi;<sup>2</sup>sin(4&pi;x)</span> and the boundary conditions <span
                           class=TT>u(0) = u(1) = 0</span>.
                           This yields the solution
                           <span class=TT>u(x) = sin(4&pi;x)</span>.
                           To implement this without implementing additional functions we resort
                           to the <span class=LOGO>OFELI</span>'s parser. For this, the member
                           function <span class=TT>set</span> of class
                           <span class=TT><a href="../html/classOFELI_1_1Vect.html">Vect&lt;double&gt;</a></span>
                           enables assigning regular expressions to nodes in function of their
                           coordinates. The variables are <span class=TT>x</span>, <span
                           class=TT>y</span>
                           and <span class=TT>z</span>.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      b.set("16*pi*pi*sin(4*pi*x)");</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT><span class=TT>h</span> is the mesh size (length
                           of an element).</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      double h = L/double(N);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>We now build up the matrix and the right-hand side. Note that we skip, for the
                           moment, the first and the last lines for boundary condition treatment. The right-hand side vector is 
                           constructed by multiplying by the mesh size.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      for (int i=2; i&lt;NbN; i++) {
         A(i,i  ) =  2./h;
         A(i,i+1) = -1./h;
         A(i,i-1) = -1./h;
      }
      b *= h;</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>We modify the first and last equation in order to take account for boundary conditions.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      A(1,1) = 1.;
      A(1,2) = 0.;
      b(1) = 0;
      A(NbN,NbN) = 1.;
      A(NbN-1,NbN) = 0.;
      b(NbN) = 0;</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>The linear system is solved.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      A.solve(b);</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>We finally calculate the maximum-norm of the error and output it.
                           The exact solution vector is defined here.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>      Vect&lt;double&gt; sol(ms);
      sol.set("sin(4*pi*x)");
      cout &lt;&lt; "Max-Norm error = " &lt;&lt; (b-sol).Norm(NORM_MAX) &lt;&lt; endl;</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>We then close the block defining the exception region by invoking the
                           macro that catches the exception.
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>   } CATCH_EXCEPTION</font></pre>
                           </td></tr></table></p>
                           <li><SPAN class=TEXT>We end the program.</span>
                           <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                           <tr><td>
                           <pre><font color="blue" size=2>   return 0;
}</font></pre>
                           </td></tr></table></p>
                           </ul>
                           
                           <p><table align="center" border="2" cellpadding="2" cellspacing="0" >
                           <tr>
                           <td align="center" width="35"><a href="../demos.html"><img src="../im/top.gif" border="0"></a></td>
                           <td align="center" width="35"><a href="heat.html"><img src="../im/forward.gif" border="0"></a></td>
                           </tr>
                           </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.flexslider-min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.countTo.js"></script>
    <script src="js/ofeli-main.js"></script>

  </body>
</html>
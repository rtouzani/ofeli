<!DOCTYPE HTML>
<html>
  <script src="http://www.w3schools.com/lib/w3data.js"></script>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="ofeli package" />
    <meta name="keywords" content="Modelling, numerical simulation, scientific computing, ofeli" />
    <title>ofeli library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <link rel="icon" type="image/png" sizes="10x10" href="../im/r.jpg" />

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-59742926-2', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="../im/ofeli.png">
    <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700" rel="stylesheet">

    <link rel="stylesheet" href="../css/doxygen.css">
    <link rel="stylesheet" href="../css/animate.css">
    <link rel="stylesheet" href="../css/icomoon.css">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/flexslider.css">
    <link rel="stylesheet" href="../fonts/flaticon/font/flaticon.css">
    <link rel="stylesheet" href="../css/owl.carousel.min.css">
    <link rel="stylesheet" href="../css/owl.theme.default.min.css">
    <link rel="stylesheet" href="../css/ofeli-style.css">
    <link rel="stylesheet" href="../css/doc.css">

<!--    Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
      <script src="js/respond.min.js"></script>
      <![endif]-->
  </head>

  <body>
    <div id="ofeli-page">
      <div class="container-wrap">
        <aside id="ofeli-aside" role="complementary" class="border js-fullheight">
          <div class="text-center">
            <a href="../index.html">
              <div class="logo-ofeli-img" style="background-image: url(../im/ofeli.png); background-size: 110%;"></div>
            </a>
            <span class="position"><b>Mathematical Modelling<br> and Numerical Simulation</b></span>
          </div>
          <div>
            <ul>
                <li class="active"><a href="../index.html">OFELI Documentation</a></li>
                <li class="active"><a href="../html/classes.html">Classes in OFELI</a></li>
                <li class="active"><a href="../fformats.html">File Formats</span></a></li>
                <li class="active"><a href="../extlib.html">External Libraries</span></a></li>
                <li class="active"><a href="../citing.html">Citing OFELI</span></a></li>
                <li class="active"><a href="../download.html">Download and Installation</a></li>
                <li class="active"><a href="../news.html">News</span></a></li>
                <li class="active"><a href="../presentations.html">Presentations</a></li>
                <li class="active"><a href="../copyright.html">License</a></li>
                <li class="active"><a href="mailto:rachid.touzani@uca.fr">Contact</a></li>
            </ul>
        </div>

        <a href="rita.html"><center><img src="../im/rita.png" width="90"></center></a>

<!--      Search Google -->
          <center>
            <form method=GET action="http://www.google.com/search">
              <table bgcolor="#FFFFFF">
                <tr>
                  <td><a href=" http://www.google.com/">
                    <img src="http://www.google.com/logos/Logo_40wht.gif" border="0" alt="Google" align="absmiddle"></a> 
                    <input TYPE=TEXT name=q size=31 maxlength=255 value="">
                    <input type=hidden name=hl value="en">
                    <input type=submit name=btnG value="Search">
                  </td>
                </tr>
              </table>
            </form>
          </center>
 <!--     Search Google -->
 
          <div class="ofeli-footer">
            <p><small>&copy; Copyright <script>document.write(new Date().getFullYear());</script> All rights reserved</small>
            </p>
          </div>
        </aside>
        <div id="ofeli-main">
          <section class="ofeli-start" data-section="home">
            <div class="ofeli-narrow-content">
              <div class="row">
                <div class="col-md-12">
                  <div class="row row-bottom-padded-sm animate-box" data-animate-effect="fadeInLeft">
                    <div class="col-md-12">
                      <div class="start-desc">
                        <h1 class="first-ofeli-heading"></h1>
                        <div id="cc">
                           &nbsp;
                           <p><table border="2" cellpadding="2" cellspacing="0" >
                           <tr>
                           <td align="center" width="35"><a href="ttd2.html"><img src="../im/backward.gif" border="0"></a></td>
                           <td align="center" width="35"><a href="../demos.html"><img src="../im/top.gif" border="0"></a></td>
                           <td align="center" width="35"><a href="lelas2d.html"><img src="../im/forward.gif" border="0"></a></td>
                           </tr>
                           </table><br>
                           <font color="#203F5B" size="4" face="verdana,Helvetica">
                           <p><b>Demo: A 3-D steady state diffusion code</b></font></p>
                           <p>
                              <SPAN class=TEXT>
                              This code is developed to solve 3-D steady-state (stationary) heat transfer problems.
                              The code is very similar to previous demo codes: <a href="stdc2.html">stdc2</a>
                              and <a href="ttd2.html">ttd2</a>.
                              </SPAN>
                              
                              <li><SPAN class=TEXT>We construct an instance of class <span class=VAR>
                              <a href="../html/classOFELI_1_1IPF.html">IPF</a></span> to manage project data.
                              We extract useful information from this instance: An output flag to deal with output level
                              and a save flag to say if the solution is to be saved in file.
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   IPF data("std3 - 1.0",argv[1]);
   int output_flag = data.getOutput();
   int save_flag = data.getSave(); </font></pre>
                              </td></tr></table>
                              </SPAN></p>
                              
                              <li><SPAN class=TEXT>After outputting some information about the code, we declare an
                              instance of class <span class=VAR><a href="../html/classOFELI_1_1Mesh.html">Mesh</a></span>.
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   Mesh ms(data.getMeshFile());</font></pre>
                              </td></tr></table>
                              </SPAN></p>
                              
                              <li><SPAN class=TEXT>In order to read various prescriptions (boundary conditions, heat sources, fluxes), we use the class <span class=VAR>
                              <a href="../html/classOFELI_1_1Prescription.html">Prescription</a></span>. The name
                              of the file containing these prescriptions is given in <span class=VAR>data.getDataFile()</span>
                              
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   Prescription p(ms,data.getDataFile());</font></pre>
                              </td></tr></table>
                              </SPAN></p>
                              
                              <li><SPAN class=TEXT>We declare vectors that will contain the solution and various data.
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   Vect&lt;double&gt; u(ms);
   Vect&lt;double&gt; bc(ms), bf(ms), sf(ms,BOUNDARY_SIDE_DOF,1);</font></pre>
                              </td></tr></table>
                              </SPAN></p>
                              
                              <li><span class=text>
                              Now we can read various prescriptions: we first instantiate vectors <span class=var>bc</span>,
                              <span class=VAR>bf</span> and <span class=VAR>sf</span> that will contain respectively
                              Dirichlet boundary conditions and sources. Neumann boundary conditions
                              (imposed fluxes) are stored in a vector with mentioning that this one
                              is a <span class=VAR>SIDE_FIELD</span>.
                              Then we use the member function <span class=VAR>get</span> with various arguments to 
                              fill properly these vectors.
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   p.get(BOUNDARY_CONDITION,bc);
   p.get(BODY_FORCE,bf);
   p.get(BOUNDARY_FORCE,sf,0);</font></pre>
                              </td></tr></table>
                              </SPAN></p>
                              
                              <li><SPAN class=TEXT>We declare as an equation the Diffusion-Convection equation in 3-D using P<sub>1</sub> (Tetrahedral),
                              namely class <a href="../html/classOFELI_1_1DC3DT4.html">DC3DT4</a></span>:
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   DC3DT4 eq(ms,u);</font></pre>
                              </td></tr></table>
                              </SPAN></p>
                              
                              <li><SPAN class=TEXT>We define as inputs of the equations various data as usual:
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   eq.setInput(BOUNDARY_CONDITION,bc);
   eq.setInput(SOURCE,bf);
   eq.setInput(FLUX,sf);</font></pre>
                              </td></tr></table>
                              </SPAN></p>
                              
                              <li><SPAN class=TEXT>We next define equation terms. Here we add the diffusion term, without convection and then define
                              the Conjugate Gradient, combined with the diagonal ILU preconditioner, as iterative solver of the resulting linear system:
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   eq.setTerms(DIFFUSION);
   eq.setSolver(CG_SOLVER,DILU_PREC);</font></pre>
                              </td></tr></table>
                              </SPAN></p>
                                    
                              <li><SPAN class=TEXT>We finally run the equation, print the solution and save this solution in a Gmsh file. 
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>   eq.run();
   if (Verbosity>4)
      cout << u;
   if (save_flag)
      saveField(u,"beam.pos",GMSH);</font></pre>
                              </td></tr></table>
                              </SPAN></p>
                              </ul>

                              &nbsp;&nbsp;
                              <h2>An example</h2>
                              
                              <SPAN class=TEXT>
                              Let us run this program with the data presented in the following project file:
                              <p><table bgcolor="#e0f8f7" border="1" frame=box rules=none width=700>
                              <tr><td>
                              <pre><font color="blue" size=2>&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;
&lt;OFELI_File&gt;
   &lt;info&gt;
      &lt;title&gt;&lt;/title&gt;
      &lt;date&gt;&lt;/date&gt;
      &lt;author&gt;&lt;/author&gt;
   &lt;/info&gt;
   &lt;Project name="beam"&gt;
      &lt;mesh_file&gt;beam.m&lt;/mesh_file&gt;
      &lt;verbose&gt;2&lt;/verbose&gt;
      &lt;save&gt;1&lt;/save&gt;
   &lt;/Project&gt;
   &lt;Prescription&gt;
      &lt;BoundaryCondition code="1"&gt;1.0&lt;/BoundaryCondition&gt;
   &lt;/Prescription&gt;
&lt;/OFELI_File&gt;</font></pre>
                              </td></tr></table></p>
                              
                              <p>In summary, this file looks mainly like the one in the previous example.
                              
                              <p><table align="center" border="2" cellpadding="2" cellspacing="0" >
                              <tr>
                              <td align="center" width="35"><a href="ttd2.html"><img src="../im/backward.gif" border="0"></a></td>
                              <td align="center" width="35"><a href="../demos.html"><img src="../im/top.gif" border="0"></a></td>
                              <td align="center" width="35"><a href="lelas2d.html"><img src="../im/forward.gif" border="0"></a></td>
                              </tr>
                              </table>
                          </div>
                     </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.flexslider-min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.countTo.js"></script>
    <script src="js/ofeli-main.js"></script>

  </body>
</html>